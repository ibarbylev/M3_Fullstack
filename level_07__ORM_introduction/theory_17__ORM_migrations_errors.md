
## ‚ö†Ô∏è –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –º–æ–¥–µ–ª–µ–π, –≤—ã–∑—ã–≤–∞—é—â–∏–µ –æ—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π

| ‚Ññ  | –û—à–∏–±–∫–∞                                                                       | –ü—Ä–∏–º–µ—Ä –∏–ª–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ                                                                       |
| -- | ---------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| 1  | ‚ùå **–ü–æ–ª–µ –±–µ–∑ `null=True`, –Ω–æ –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**                     | Django —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü—É, –≥–¥–µ —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ                  |
|    | ‚úÖ **–†–µ—à–µ–Ω–∏–µ**: —É–∫–∞–∑–∞—Ç—å `null=True` –∏–ª–∏ `default=...`                         | `models.CharField(max_length=100, null=True)`                                               |
| 2  | ‚ùå **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ `ForeignKey` –±–µ–∑ `on_delete`**                                | Django —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å `on_delete` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `CASCADE`)                               |
|    | ‚úÖ **–†–µ—à–µ–Ω–∏–µ**: `models.ForeignKey(..., on_delete=models.CASCADE)`            |                                                                                             |
| 3  | ‚ùå **–ú–æ–¥–µ–ª—å –±–µ–∑ `primary_key`, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `id` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**       | –ü—Ä–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫–ª—é—á–∞—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `primary_key=True`                     |
| 4  | ‚ùå **–ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ –≤ `ForeignKey`, `OneToOneField`, `ManyToManyField`** | –£–∫–∞–∑–∞–Ω–∞ —Å–≤—è–∑—å –Ω–∞ –º–æ–¥–µ–ª—å –∏–ª–∏ –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç                                              |
| 5  | ‚ùå **–ö—Ä—É–≥–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏ –±–µ–∑ `related_name` –∏–ª–∏ `through`**   | –ü—Ä–∏–º–µ—Ä: –¥–≤–∞ `ManyToManyField` –º–µ–∂–¥—É –æ–¥–Ω–∏–º–∏ –∏ —Ç–µ–º–∏ –∂–µ –º–æ–¥–µ–ª—è–º–∏                               |
| 6  | ‚ùå **–û—à–∏–±–∫–∏ –≤ —Ç–∏–ø–∞—Ö –ø–æ–ª–µ–π** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∫–∞ –≤ `IntegerField`)               | –û—à–∏–±–∫–∞ –º–æ–∂–µ—Ç –ø—Ä–æ—è–≤–∏—Ç—å—Å—è –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é       |
| 7  | ‚ùå **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏/–ø–æ–ª—è –±–µ–∑ `makemigrations --empty`**                | Django –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç —ç—Ç–æ –∫–∞–∫ —É–¥–∞–ª–µ–Ω–∏–µ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–Ω–æ–≤–æ (—á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö) |
| 8  | ‚ùå **–ò–º—è —Ç–∞–±–ª–∏—Ü—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î** (–æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä—É—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö)       | Django –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É, –µ—Å–ª–∏ –æ–Ω–∞ —É–∂–µ –µ—Å—Ç—å                                          |
| 9  | ‚ùå **–û–ø–µ—á–∞—Ç–∫–∞ –≤ `Meta` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `db_table`, `ordering`)**                   | –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SQL –∏–ª–∏ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å                                    |
| 10 | ‚ùå **–ú–æ–¥–µ–ª—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞, –Ω–æ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ `INSTALLED_APPS`**        | –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è                                                    |
| 11 | ‚ùå **–ú–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–∏–ø –ø–æ–ª—è, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –°–£–ë–î**       | –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã –≤ SQLite                                                           |
| 12 | ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**                            | –í—ã –∑–∞–±—ã–ª–∏ `makemigrations`, –∏ –≤ `migrate` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è                     |

---

## üõ† –ü—Ä–∏–º–µ—Ä—ã —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–∏–ª–∏ –ø–æ–ª–µ –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```python
# models.py
class Book(models.Model):
    title = models.CharField(max_length=100)
    year = models.IntegerField()  # –æ—à–∏–±–∫–∞!
```

üî¥ –û—à–∏–±–∫–∞ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏:

```
You are trying to add a non-nullable field 'year' to book without a default...
```

‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:

```python
year = models.IntegerField(default=2000)
# –∏–ª–∏
year = models.IntegerField(null=True)
```

---

### –ü—Ä–∏–º–µ—Ä 2: ForeignKey –±–µ–∑ on\_delete

```python
author = models.ForeignKey('Author')  # –æ—à–∏–±–∫–∞
```

üî¥ –û—à–∏–±–∫–∞:

```
TypeError: __init__() missing 1 required positional argument: 'on_delete'
```

‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:

```python
author = models.ForeignKey('Author', on_delete=models.CASCADE)
```

---

## üìå –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

* –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏: `python manage.py makemigrations` –∏ `sqlmigrate`.
* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `null=True`, –µ—Å–ª–∏ –ø–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.
* –î–ª—è –Ω–æ–≤—ã—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π ‚Äî –¥–æ–±–∞–≤–ª—è–π—Ç–µ `default=...`.
* –ù–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–π—Ç–µ –ø–æ–ª—è/–º–æ–¥–µ–ª–∏ –±–µ–∑ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞—Ä–∞–Ω–µ–µ.
* –ò–∑–±–µ–≥–∞–π—Ç–µ —Ä—É—á–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π.


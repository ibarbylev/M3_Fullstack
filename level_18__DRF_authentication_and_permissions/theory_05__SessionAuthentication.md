# –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å `SessionAuthentication` –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å `BasicAuthentication`

## 1 BasicAuthentication

* –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–¥—ë—Ç —á–µ—Ä–µ–∑ **HTTP –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization**.
* –õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ Base64.
* –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫.

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫ API `/api/books/` —Å curl:

```bash
curl -u root:123 http://127.0.0.1:8000/api/books/
```

* `-u root:123` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:

```
Authorization: Basic YWRtaW46MTIzNA==
```

* –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ.
* **–ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å–µ—Å—Å–∏–∏** ‚Äî –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∏–∑ –ª—é–±–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (curl, Postman) –±–µ–∑ –ª–æ–≥–∏–Ω–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

---

## 2 SessionAuthentication

* –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **cookie —Å–µ—Å—Å–∏–∏ Django**.
* –°–µ—Å—Å–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ—Å–ª–µ –æ–±—ã—á–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞ —á–µ—Ä–µ–∑ `/admin/login/` –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π –ª–æ–≥–∏–Ω.
* –ï—Å–ª–∏ cookie —Å–µ—Å—Å–∏–∏ –µ—Å—Ç—å, –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º.

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫ API `/api/books/` —Å curl:

1. –õ–æ–≥–∏–Ω (—Å–æ—Ö—Ä–∞–Ω—è–µ–º cookie):

```bash
curl -c cookies.txt -X POST http://127.0.0.1:8000/admin/login/ -d "username=root&password=123"
```

2. –î–æ—Å—Ç—É–ø –∫ API (–∏—Å–ø–æ–ª—å–∑—É–µ–º cookie):

```bash
curl -b cookies.txt http://127.0.0.1:8000/api/books/
```

* –ë–µ–∑ cookie `sessionid` –¥–æ—Å—Ç—É–ø –±—É–¥–µ—Ç –∑–∞–ø—Ä–µ—â—ë–Ω.
* –í –±—Ä–∞—É–∑–µ—Ä–µ, –≥–¥–µ —É–∂–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, cookie –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ø–æ—ç—Ç–æ–º—É –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–≤–æ–¥ –ø–∞—Ä–æ–ª—è –Ω–µ –Ω—É–∂–µ–Ω.

---

## üîπ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞                      | BasicAuthentication                                     | SessionAuthentication                                           |
| ----------------------------------- | ------------------------------------------------------- | --------------------------------------------------------------- |
| –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å           | –í HTTP –∑–∞–≥–æ–ª–æ–≤–∫–µ Authorization                          | –í cookie —Å–µ—Å—Å–∏–∏ Django                                          |
| –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–æ–≥–∏–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ | –î–∞                                                      | –ù–µ—Ç, –µ—Å–ª–∏ —Å–µ—Å—Å–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞                                  |
| –†–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä                | –ù–µ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ                                         | –û—á–µ–Ω—å —É–¥–æ–±–Ω–æ (–∞–≤—Ç–æ–ª–æ–≥–∏–Ω —á–µ—Ä–µ–∑ —Å–µ—Å—Å–∏–∏)                           |
| –†–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ curl/Postman           | –ü—Ä—è–º–æ —á–µ—Ä–µ–∑ `-u`                                        | –ù—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç—å cookie —á–µ—Ä–µ–∑ –ª–æ–≥–∏–Ω                       |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å                        | –í HTTPS ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ; –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ | HTTPS –∑–∞—â–∏—â–∞–µ—Ç cookie; —Å–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–∞–µ—Ç, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSRF |
| CSRF                                | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è                                            | –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è POST/PUT/DELETE –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä            |

---

üí° **–ò—Ç–æ–≥:**

* **BasicAuth** ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, –Ω–æ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–∞—Ä–æ–ª—å.
* **SessionAuth** ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –≤–µ–±-–∫–ª–∏–µ–Ω—Ç–æ–≤, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω; –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç CSRF-–∑–∞—â–∏—Ç—É.



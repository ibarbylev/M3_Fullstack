# Техническое задание: Интернет-магазин на Django/DRF

## 1. Введение и цель

Вы — разработчик на первой работе. Нужно трансформировать готовый статический
HTML/CSS дизайн в полноценное интернет-магазин приложение на Django. Проект
должен содержать:

- Веб-интерфейс (Django, шаблоны, сессии)
- REST API для внешних клиентов (DRF, JWT)
- (Опционально) GraphQL для аналитики как дополнительное улучшение
- Инфраструктуру: PostgreSQL, Docker
- Качество кода: типизация, линтеры, тесты, документация

Цель: показать понимание Django, DRF, работы с базой, архитектурных практик,
качества кода и деплоя (не обязателен!).

HTML Template (во вторник будет ссылка)

---

## 2. Общие принципы

- **Веб-интерфейс** (пользователи через браузер) использует **session-based**
  аутентификацию (стандарт Django).
- **Внешние API** используют **JWT** для авторизации.
- GraphQL (если реализуется) доступен через **один эндпоинт** `/graphql/`.
- Структура проекта примерная — допускаются вариации, но должна быть логичная
  модульность.
- **Инфраструктура:** обязательное использование PostgreSQL, всё поднимается
  через Docker Compose.
- Альтернативные менеджеры зависимостей (`poetry`, `pip-tools/uv`)
  приветствуются как бонус.

---

## 3. Функциональные блоки

### 3.1. Каталог товаров и поиск (`/` и `/products/`)

### 3.2. Страница товара (`/product/<slug>/`)

### 3.3. Корзина (`/cart/`)

**Темы:** Django Sessions, Message Framework, бизнес-логика

### 3.4. Оформление заказа (`/checkout/`)

**Темы:** Формы, email, транзакции

### 3.5. Личный кабинет (`/account/`)

**Темы:** Аутентификация, ORM, формы, доступ

### 3.6. Админ-панель (`/admin/`)

**Темы:** Админка, агрегаты, кастомизация

### 3.7. REST API (`/api/`)

Ресурсы и действия (пример):

| Ресурс       | Действие          | URL-шаблон                    | HTTP метод(ы)            | Описание                               | Авторизация    |
|--------------|-------------------|-------------------------------|--------------------------|----------------------------------------|----------------|
| Товары       | Список            | `/api/products/`              | GET                      | Пагинация, фильтрация, поиск           | Необязательно  |
| Товары       | Деталь            | `/api/products/<id>/`         | GET                      | Информация о товаре                    | Необязательно  |
| Заказы       | Создание          | `/api/orders/`                | POST                     | Создание заказа (на основе корзины)    | JWT            |
| Заказы       | Список своих      | `/api/orders/`                | GET                      | Список заказов текущего пользователя   | JWT            |
| Заказы       | Деталь            | `/api/orders/<id>/`           | GET                      | Детальная информация (только свой)     | JWT            |
| Заказы       | Обновление/отмена | `/api/orders/<id>/`           | PATCH/PUT/DELETE         | Изменение статуса/отмена (по правилам) | JWT            |
| Пользователи | Регистрация       | `/api/users/register/`        | POST                     | Создать аккаунт                        | Нет            |
| Пользователи | Вход (JWT)        | `/api/users/login/`           | POST                     | Получить access/refresh токены         | Нет            |
| Корзина      | Управление        | `/api/cart/`                  | GET, POST, PATCH, DELETE | Содержимое корзины                     | JWT или сессия |
| Отзывы       | Добавить/просмотр | `/api/products/<id>/reviews/` | GET, POST                | Список и отправка отзыва               | JWT            |

- JWT: access + refresh, обновление.
- Права: пользователь видит/меняет только свои данные.

**Темы:** DRF, сериализация, ViewSets/routers, пагинация, permissions

### 3.8. Документация API


**Темы:** Автоматическая документация (drf-spectacular, drf-yasg и т.п.)

### 3.9. (Бонусно) GraphQL

**Темы:** Graphene/Django, резолверы, авторизация в GraphQL

> Примечание: GraphQL — бонус. Можно заменить на другие улучшения (например,
> расширенные тесты, CI/CD и т.п.).

---

## 4. Структура данных (База данных)

### Category

### Product

### Order

### OrderItem

### Review

*Дополнительно:* Address, Payment и др. по необходимости.

---

## 5. Примерная архитектура проекта

/myshop/
├── config/ # settings, urls, asgi/wsgi
├── products/ # модели, views, serializers, forms, admin
├── orders/ # заказы и корзина
├── users/ # регистрация, профили, auth
├── reviews/ # отзывы (или внутри products)
├── payments/ # способы оплаты, webhooks
├── graphql/ # схема и резолверы (если используется)
├── templates/ # Django-шаблоны
├── static/ # статика
├── tests/ # тесты
├── docker-compose.yml # инфраструктура
├── Dockerfile # контейнер приложения
├── manage.py
└── README.md


> Структура примерная; приоритет — разделение ответственности, читабельность,
> расширяемость.

---

## 6. Качество кода и инфраструктура

1. **Типизация и докстринги**
2. **Линтеры и статическая проверка**
3. **Тестирование**
4. **Инфраструктура**
5. **Git workflow**
6. **Документация**


---

## 7. API-документация и взаимодействие

---

## 8. Оценивание (грейдинг)

**Максимум — 100 баллов.** Бонусные улучшения не поднимают итог выше 100.

| Критерий                                                       | Баллы |
|----------------------------------------------------------------|-------|
| Каталог и поиск товаров                                        | 10    |
| Детальная страница товара и отзывы                             | 10    |
| Корзина и её обработка                                         | 10    |
| Оформление заказа и email                                      | 10    |
| Личный кабинет и история заказов                               | 10    |
| Админка и аналитика                                            | 10    |
| REST API и документация                                        | 10    |
| Качество кода и инструменты (типизация, линтеры, тесты)        | 10    |
| Инфраструктура (PostgreSQL, Docker, зависимости, git workflow) | 10    |
| README и проектная гигиена (чек-лист, коммиты, структура)      | 5     |
| Бонусы                                                         | 5     |

**Итого:** 100

**Рекомендованные улучшения (не увеличивают выше 100):**

- GraphQL аналитика
- Расширенное покрытие тестами (>=80%)
- CI/CD (проверка тестов и линтеров, сборка, деплои)
- Использование `poetry` или другого менеджера

---

## 9. Требования к сдаче

1. Репозиторий на GitHub с кодом.
2. README.md:
    - Описание
    - Установка и запуск (через Docker)
    - JWT и API-примеры
    - Запуск тестов и линтеров
    - Структура проекта
3. (Опционально) ссылка на деплой / screencast.
4. ФИО и группа + ссылка преподавателю.
5. Чек-лист реализации (отмеченное что сделано).
6. История коммитов / веток.

---

## 10. Чек-лист перед сдачей



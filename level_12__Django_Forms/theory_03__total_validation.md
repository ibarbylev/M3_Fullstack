В Django уже встроен широкий ассортимент различных валидаций и проверок ввода пользовательских данных.  
На все случаи жизни (почти).  
И весь этот набор может работать на нескольких уровнях.

Попробуем всё это систематизировать.

# Системный обзор валидации в Django

В Django валидация данных в формах и моделях работает через несколько уровней:

1. **Встроенная валидация (built-in validation)**

   * Поля форм (`CharField`, `EmailField`, `IntegerField`, ...) имеют базовую проверку, по типу поля.
     (например, `max_lentgh` (длина строки) и т. д.
   * Дополнительно имеются встроенные валидаторы (`EmailValidator`, `URLValidator` и т. д.)  
   * Модельные поля тоже содержат встроенные ограничения (`max_length`, `unique`, `blank=False`, `choices` и пр.).

2. **Пользовательские валидаторы**

   * Можно определить функцию-валидатор или класс-валидатор и привязать его к полю.
   * Например: `validators=[my_validator]`.

3. **Очистка на уровне полей (`clean_<field>()`)**

   * В `Form` или `ModelForm` можно переопределить метод `clean_<имя_поля>()`, чтобы добавить свою проверку для конкретного поля.
   * Метод `clean_<имя_поля>()` будет вызван автоматически, если `<field>` совпадёт с именем поля формы.

4. **Очистка всей формы (`clean()`)**

   * Вызывается после всех отдельных полей. 
   * Позволяет делать сквозные проверки по нескольким полям (например, сравнить два поля: пароль и его пароля).

5. **Методы модели (`clean()`, `full_clean()`)**

   * В самих моделях можно переопределить `clean()` для бизнес-логики валидации.
   * `full_clean()` проходит все уровни валидации: `clean_<имя_поля>()` → `clean()`.
   * Дополнительно, если это не `Form`, а `ModelForm`, проверяется уникальность полей модели.
   * Уникальность (если требуется и если есть связанная с формой модель) задаётся:
     * Для одного поля - в характеристике поля в самой модели `unique=True`
     * Для двух и более - в классе Meta:
        ```pyton
        class Meta:
            unique_together = ('name', 'category')
        ```

6. **Вызывается `is_valid()` у формы**

   * `form.is_valid()` внутри себя:

     1. вызывает `full_clean()`,
     2. собирает ошибки,
     3. возвращает `True/False`.

---

## Итак, основные методы

* `is_valid()`* → запускает процесс валидации формы.
* `clean_<field>()`* → проверка конкретного поля.
* `clean()`** → проверка всей формы или модели целиком.
* `ValidationError` → исключение, которое нужно бросать при ошибках.

---





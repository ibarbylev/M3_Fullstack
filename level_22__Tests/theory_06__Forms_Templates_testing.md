## 1. Тестирование форм (Forms) в Django

Цель: убедиться, что формы корректно обрабатывают данные, валидируют их и корректно рендерятся.

### Основные идеи

1. **Корректность валидации**

   * Проверяем, что форма принимает правильные данные.
   * Проверяем, что форма отклоняет неправильные данные.
   * Проверяем, что ошибки валидации содержат нужные сообщения.

2. **Очистка и преобразование данных**

   * Методы `clean()` и `clean_field()` корректно обрабатывают данные.
   * Значения после `form.cleaned_data` соответствуют ожиданиям.

3. **Рендеринг формы**

   * Проверяем, что HTML содержит нужные поля.
   * Проверяем наличие атрибутов (`required`, `type`, `placeholder`).

### Подходы

* Использовать `form = MyForm(data=...)` и проверять `form.is_valid()` и `form.errors`.
* Для рендеринга использовать `str(form)` или `form.as_p()`.
* Можно проверять конкретные HTML-теги через `assertIn` или `BeautifulSoup`.

---

## 2. Тестирование сериализаторов DRF (Forms DRF)

Цель: убедиться, что сериализаторы корректно валидируют данные и создают объекты.

### Основные идеи

1. **Валидация данных**

   * Проверяем `serializer.is_valid()`.
   * Проверяем содержимое `serializer.errors` при неправильных данных.
2. **Сохранение объектов**

   * Проверяем, что `serializer.save()` создаёт объект с ожидаемыми полями.
3. **Чтение данных**

   * Проверяем, что сериализатор корректно формирует JSON (`serializer.data`).

### Подходы

* Передавать `data` в сериализатор и проверять `is_valid()`.
* Проверять сериализатор на пустые/некорректные данные.
* Проверять сериализатор на read-only поля или поля с `default`.

---

## 3. Тестирование шаблонов (Templates) в Django

Цель: проверить, что шаблоны рендерятся с правильным контекстом и содержат нужный HTML.

### Основные идеи

1. **Контекст шаблона**

   * Проверяем, что view передает в шаблон все необходимые переменные.
   * Проверяем значения переменных контекста (`response.context`).

2. **HTML-содержимое**

   * Проверяем наличие ключевых элементов (`<form>`, `<input>`, `<button>`).
   * Можно проверять текст или структуру HTML (через `assertIn` или `BeautifulSoup`).

3. **Статус и редиректы**

   * Проверяем код ответа (`200 OK`, `302 Redirect`).
   * Проверяем шаблон, который рендерится в ответе (`template_name`).

### Подходы

* В Django-тестах: `client.get('/url/')` → `response.context`, `response.content`.
* Можно использовать `pytest-django` фикстуры `client` или `rf` (RequestFactory).

---

## 4. Общие рекомендации для pytest

* Использовать отдельные тесты для **валидных данных** и **ошибок**.
* Для шаблонов проверять **ключевые элементы**, а не весь HTML.
* Для DRF сериализаторов проверять и **валидацию**, и **создание объектов**, и **вывод данных**.
* Не тестировать фреймворк сам (Django/DRF), только свою логику.



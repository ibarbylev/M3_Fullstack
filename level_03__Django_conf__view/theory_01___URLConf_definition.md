Маршрутизация в Django (URLConf) - сервис, который связывает 
 - конкретный URL-адрес и 
 - и реакцию на этот адрес.

Иными словами, URLConf устанавливает соответствие URL-адрес (запрос) и view (представление),   
которое обрабатывает этот запрос.

---

## 🔹 Основные понятия

### `urls.py`

Это файл, где вы определяете соответствия между URL-путями и обработчиками (views).   
Обычно каждый Django-проект имеет:

* **глобальный** `urls.py` в папке проекта (например, `main/urls.py`)
* **локальные** `urls.py` в каждом приложении (например, `blog/urls.py`)

---

## 🔹 Пример глобального `urls.py`

```
# mysite/urls.py
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('blog/', include('blog.urls')),  # передаёт управление blog.urls
]
```

### `include()`

Позволяет делегировать маршрутизацию подмодулям. Это удобно для модульной структуры.

---

## 🔹 Пример локального `urls.py` (в приложении)

```
# blog/urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name='index'),
    path('article/', views.detail, name='detail'),
]
```

* `''` — пустой путь означает `/blog/`
* `'article/'` — путь означает `/blog/article/`.

---


## 🔹 Правила маршрутизации URLConf

* Django читает `urlpatterns` сверху вниз и использует **первое совпадение**.
* Если ничего не совпало — ошибка 404.
* Все маршруты **без слэша в начале** (`path('about/'...)`, не `'/about/'`).
* Статические и медиа-файлы нужно обрабатывать отдельно в режиме отладки:


---

## 🔹 Общая схема маршрутизации проекта Django

```
Запрос: /blog/ или /shop/

┌──────────────────────────────────────────┐
│            mysite/urls.py                │
├──────────────────────────────────────────┤
│ path('blog/', include('blog.urls'))      │◄───────────────────────────────────┐
│ path('shop/', include('shop.urls'))      │◄─┐                                 │
│ path('accounts/', include('users.urls')) │◄┐│                                 │
└──────────────────────────────────────────┘ ││                                 │
                                             ││                                 │
           ┌─────────────────────────────────┘│                                 │
           │                                  │                                 │
           ▼                                  ▼                                 ▼
┌─────────────────────┐            ┌─────────────────────┐           ┌─────────────────────┐
│    users/urls.py    │            │     shop/urls.py    │           │     blog/urls.py    │
└─────────────────────┘            └─────────────────────┘           └─────────────────────┘
           │                                  │                                 │    
           ▼                                  ▼                                 ▼
┌─────────────────────┐            ┌─────────────────────┐           ┌─────────────────────┐
│   users/views.py    │            │    shop/views.py    │           │    blog/views.py    │
└─────────────────────┘            └─────────────────────┘           └─────────────────────┘
```


### Краткое описание схемы:

* Главный маршрутизатор `mysite/urls.py`:

  * Перенаправляет все запросы, начинающиеся с `/blog/` — в `blog/urls.py`
  * Запросы `/shop/` — в `shop/urls.py`
  * Запросы `/accounts/` — в `users/urls.py`

Это позволяет каждому приложению иметь свой `urls.py`, что делает общую структуру   
Django-проекта масштабируемой и понятной.

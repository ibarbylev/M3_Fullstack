## APIView vs ViewSet: перенос акцента с деталей действия на результат этого действия!

**APIView**

* Акцент на детали запроса (HTTP-методах): GET, POST, PUT, PATCH, DELETE.
* Каждый метод запроса напрямую отражает поведение view.
* Пример: `get()` возвращает данные, `post()` создаёт объект, `put()` обновляет и т.д.
* Вы сами решаете, какой метод делать для какого URL.

Основная идея: **"Программисту предлагается выбрать абстрактные методы и сопоставить их с конкретными целями"**

---

**ViewSet**

* Акцент переносится на результат, а не детали его достижения (метод HTTP).

* Сама семантика имён методов подчёркивает нацеленность на результат:

  * `list` — возвращает **список объектов модели**
  * `retrieve` — возвращает **один объект по ID**
  * `create` — создаёт **новый объект модели**
  * `update` — обновляет существующий объект целиком
  * `partial_update` — частично обновляет объект
  * `destroy` — удаляет объект

* А сами HTTP-методы уже АВТОМАТИЧЕСКИ подбираются под поставленные цели через `router`:

  * GET `/books/` → `list`
  * GET `/books/1/` → `retrieve`
  * POST `/books/` → `create`
  * PUT `/books/1/` → `update`
  * PATCH `/books/1/` → `partial_update`
  * DELETE `/books/1/` → `destroy`

Основная идея: **"Программисту предлагаются конкретные методы, совпадающие с целями"**

---

### Дополнительные "плюшки" ViewSet

1. **Меньше кода для CRUD** — нет необходимости писать методы get/post/put/delete вручную.
2. **Стандартизация** — все ресурсы имеют одинаковый набор действий.
3. **Чистая концепция REST** — фокус на **ресурсах**, а не на HTTP.

---

### Схематическое сравнение акцентов

| Критерий       | APIView                                             | ViewSet                                             |
| -------------- |-----------------------------------------------------|-----------------------------------------------------|
| Основной фокус | HTTP-метод запроса                                  | Действие с ресурсом                                 |
| URL-структура  | Любая, настраивается вручную                        | Стандартизированная через router                    |
| CRUD           | Реализуется вручную                                 | Реализуется через стандартные методы                |
| Пример запроса | `GET /books/` → `get()`                             | `GET /books/` → `list()`                            |
| Подход         | **Императивный**: <br>"что делать при этом методе?" | **Декларативный**: <br>"какой результат ожидается?" |

---


### Сравнительная таблица методов

| HTTP метод | APIView класс     | APIView метод                            | ViewSet <br>(все методы ТОЛЬКО для одного класса) |
| ---------- | ----------------- | ---------------------------------------- |---------------------------------------------------|
| GET        | `ListAPIView`     | `get(self, request, *args, **kwargs)`    | `list(self, request)`                             |
| GET        | `RetrieveAPIView` | `get(self, request, *args, **kwargs)`    | `retrieve(self, request, pk=None)`                |
| POST       | `CreateAPIView`   | `post(self, request, *args, **kwargs)`   | `create(self, request)`                           |
| PUT        | `UpdateAPIView`   | `put(self, request, *args, **kwargs)`    | `update(self, request, pk=None)`                  |
| PATCH      | `UpdateAPIView`   | `patch(self, request, *args, **kwargs)`  | `partial_update(self, request, pk=None)`          |
| DELETE     | `DestroyAPIView`  | `delete(self, request, *args, **kwargs)` | `destroy(self, request, pk=None)`                 |
